# Configuration adaptée au Projet 25 — EuroSAT RGB (CNN dilaté stage 3)
dataset:
  name: "eurosat_rgb"
  root: "./data"
  split:
    train: "train"
    val: "validation"
    test: "test"
  download: true
  num_workers: 4
  shuffle: true

preprocess:
  resize: [64, 64]
  normalize:
    mean: [0.485, 0.456, 0.406]   # ImageNet par défaut ; ok pour CNN from scratch, pourra être recalculé sur EuroSAT
    std: [0.229, 0.224, 0.225]
  text_tokenizer: null

augment:
  random_flip: true
  random_crop:
    size: [64, 64]
    padding: 4
  color_jitter:
    brightness: 0.1
    contrast: 0.1
    saturation: 0.1
    hue: 0.0
  spec_augment: null

model:
  type: cnn_dilated_stage3
  num_classes: 10
  input_shape: [3, 64, 64]
  channels: [64, 128, 256]
  blocks_per_stage: 2          # valeur par défaut (variera dans la grille : 2 ou 3)
  dilation_stage3: 2           # valeur par défaut (grille : 2 ou 3)
  activation: relu
  dropout: 0.0
  batch_norm: true
  residual: false
  attention: false
  rnn:
    type: null
    hidden_size: null
    num_layers: null
    bidirectional: false

train:
  seed: 42
  device: auto
  batch_size: 64
  epochs: 15
  max_steps: null
  overfit_small: false

  optimizer:
    name: adam
    lr: 0.001
    weight_decay: 0.0001
    momentum: 0.9

  scheduler:
    name: none
    step_size: 10
    gamma: 0.1
    warmup_steps: 0

metrics:
  classification:
    - accuracy
  regression: []

hparams:
  lr: [0.0005, 0.001, 0.002]
  batch_size: [32, 64]
  weight_decay: [0.0, 0.0001]
  dilation_stage3: [2, 3]
  blocks_per_stage: [2, 3]

paths:
  runs_dir: "./runs"
  artifacts_dir: "./artifacts"